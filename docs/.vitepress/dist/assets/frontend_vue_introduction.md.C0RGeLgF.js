import{_ as s,c as i,o as a,aR as n,b8 as t,b9 as l,ba as e,bb as p}from"./chunks/framework.DO9sehX0.js";const F=JSON.parse('{"title":"","description":"","frontmatter":{},"headers":[],"relativePath":"frontend/vue/introduction.md","filePath":"frontend/vue/introduction.md","lastUpdated":1716517161000}'),h={name:"frontend/vue/introduction.md"},k=n('<h2 id="_6-1-1-前端三大框架" tabindex="-1">6.1.1 前端三大框架 <a class="header-anchor" href="#_6-1-1-前端三大框架" aria-label="Permalink to &quot;6.1.1 前端三大框架&quot;">​</a></h2><p>vue/react/angular</p><h2 id="_6-1-2-vue-是什么" tabindex="-1">6.1.2 vue 是什么？ <a class="header-anchor" href="#_6-1-2-vue-是什么" aria-label="Permalink to &quot;6.1.2 vue 是什么？&quot;">​</a></h2><p>JavaScript框架 操作数据 彻底解放DOM操作 组件化</p><p>jQuery库 直接操作DOM</p><p>Vue 不支持 IE8 及以下版本但它支持所有兼容 ECMAScript 5 的浏览器</p><p>虚拟DOM：实际上它只是一层对真实DOM的抽象，该对象包含了真实DOM的结构及其属性，通过算法（<code>Diff</code>）与真实DOM对比差异，从而进行局部渲染来达到优化性能的目的（减少DOM的重绘和回流从而减少浏览器性能消耗）</p><blockquote><div class="tip custom-block"><p class="custom-block-title">不同框架的编译机制</p><p><code>React</code>：编译成<code>JXS</code>函数并返回<code>虚拟DOM</code>（状态变化时，从当前组件开始，包括子组件都重新加载）<br><code>Vue</code>：编译成<code>render</code>函数并返回<code>虚拟DOM</code>（状态变化时，仅当前组件重新加载），<code>Vite</code>未来可能会采用<code>Vapor mode</code><br><code>SolidJS</code>：编译<code>真实DOM</code>字符串（状态变化时，重新加载对应的DOM）<br><code>Svelte</code> ：编译<code>真实DOM</code>片段（状态变化时，重新加载对应的DOM）</p></div></blockquote><blockquote><div class="tip custom-block"><p class="custom-block-title">重绘与回流</p><p>回流：DOM树中的元素被增加或者删除，导致浏览器需要重新的去渲染整个DOM树，回流比重绘更消耗性能，发生回流必定重绘，重绘不一定会导致回流<br> 重绘：DOM树没有元素增加或删除，只是样式的改变，针对浏览器对某一元素进行单独的渲染，这个过程就叫做重绘</p></div></blockquote><blockquote><p><a href="https://juejin.cn/post/7145669817428049957" target="_blank" rel="noreferrer">Svelte和Solid</a><br><a href="https://juejin.cn/post/7235628080219078693" target="_blank" rel="noreferrer">Svelte原理</a><br><a href="https://juejin.cn/post/7009575427731636232" target="_blank" rel="noreferrer">No DomDiff</a></p></blockquote><h2 id="_6-1-3-mvvm" tabindex="-1">6.1.3 MVVM <a class="header-anchor" href="#_6-1-3-mvvm" aria-label="Permalink to &quot;6.1.3 MVVM&quot;">​</a></h2><p>MVVM：Model-View-ViewModel 数据-视图-视图模型。</p><p>响应式数据原理（发布订阅模式）：通过ES5提供的Object.defineProperty（数据劫持）来劫持各个属性的setter，getter，在数据变动时发布消息给订阅者，触发相应监听回调。<br><span style="color:red;">*</span>Vue3的响应式原理详解：<a href="/frontend/vue/introduction.html#_6-1-6-响应式">6.1.6</a></p><div class="tip custom-block"><p class="custom-block-title">mvc、mvp、mvvm的区别</p><ul><li>MVC<br><img src="'+t+'" alt="docker"><br><img src="'+l+'" alt="docker"></li></ul><blockquote><ol><li>用户操作View</li><li>View将事件传给Controller（用户也可以直接操作Controller）</li><li>Controller根据业务逻辑修改Model里的数据</li><li>Model想数据反馈给View</li></ol></blockquote><ul><li>MVP<br><img src="'+e+'" alt="docker"></li></ul><blockquote><p>各部分之间的通信，都是双向的 View 与 Model 不发生联系，都通过 Presenter 传递</p></blockquote><ul><li>MVVM<br><img src="'+p+`" alt="docker"></li></ul><blockquote><p>基本上与MVP模式完全一致 区别是ViewModel与Model通过双向数据绑定实现</p></blockquote></div><h2 id="_6-1-5-引入" tabindex="-1">6.1.5 引入 <a class="header-anchor" href="#_6-1-5-引入" aria-label="Permalink to &quot;6.1.5 引入&quot;">​</a></h2><ul><li>通过用<code>&lt;script&gt;</code>引入</li></ul><div class="language-html vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">html</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">script</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> src</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;https://cdn.jsdelivr.net/npm/vue&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">script</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt; </span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">&lt;!-- 锁定版本号避免不可预期的风险 --&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">script</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> src</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;https://cdn.jsdelivr.net/npm/vue@2.6.14&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">script</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span></code></pre></div><ul><li>通过<code>NPM</code>引入</li></ul><div class="language-zsh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">zsh</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">npm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> install</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> vue</span></span></code></pre></div><h2 id="_6-1-5-基本结构" tabindex="-1">6.1.5 基本结构 <a class="header-anchor" href="#_6-1-5-基本结构" aria-label="Permalink to &quot;6.1.5 基本结构&quot;">​</a></h2><div class="vp-code-group vp-adaptive-theme"><div class="tabs"><input type="radio" name="group-nrMb7" id="tab-AYAQXaT" checked><label for="tab-AYAQXaT">Vue2</label><input type="radio" name="group-nrMb7" id="tab-3qG0FpV"><label for="tab-3qG0FpV">Vue3 setup()</label><input type="radio" name="group-nrMb7" id="tab-nx75G9_"><label for="tab-nx75G9_">Vue3 setup</label></div><div class="blocks"><div class="language-vue vp-adaptive-theme active"><button title="Copy Code" class="copy"></button><span class="lang">vue</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">div</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> id</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;app&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    &lt;button @click=&quot;add&quot;&gt;{{a}}&lt;/button&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">div</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">script</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Vue</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    el:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;#app&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//元素 不能使用body、html标签</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    data</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (){ </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// data也可以是对象，但不建议会导致数据覆盖</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">        return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            count:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    methods:{</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">        add</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">() {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">            this</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.count</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">++</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">});</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">script</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span></code></pre></div><div class="language-vue vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">vue</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">div</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> id</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;app&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    &lt;button @click=&quot;add&quot;&gt;{{a}}&lt;/button&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">div</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">script</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 使用场景：</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 要在非单文件组件中使用组合式 API 时。</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 需要在基于选项式 API 的组件中集成基于组合式 API 的代码时。</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">createApp</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  setup</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">() {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> count </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> ref</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    const</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> add</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> () </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      count</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">++</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      count,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      add</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}).</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">mount</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;#app&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">script</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span></code></pre></div><div class="language-vue vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">vue</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">div</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> id</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;app&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    &lt;button @click=&quot;add&quot;&gt;{{a}}&lt;/button&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">div</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">script</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> setup</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // 使用场景：只支持单文件组件</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // setup()的简化写法</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> count </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> ref</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  const</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> add</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> () </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">   count</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">++</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">script</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span></code></pre></div></div></div><div class="tip custom-block"><p class="custom-block-title">setup 的优点</p><ol><li>更加简洁的代码</li><li><code>setup()</code>函数中需要手动暴露状态和方法</li><li>更好的<code>TypeScript</code>、IDE类型推论支持</li></ol></div><h2 id="_6-1-6-响应式" tabindex="-1">6.1.6 响应式 <a class="header-anchor" href="#_6-1-6-响应式" aria-label="Permalink to &quot;6.1.6 响应式&quot;">​</a></h2><h4 id="vue2-基于es5的object-defineproperty数据劫持-实现响应式的。" tabindex="-1">Vue2:基于<code>ES5的Object.defineProperty</code>数据劫持，实现响应式的。 <a class="header-anchor" href="#vue2-基于es5的object-defineproperty数据劫持-实现响应式的。" aria-label="Permalink to &quot;Vue2:基于\`ES5的Object.defineProperty\`数据劫持，实现响应式的。&quot;">​</a></h4><p>当一个<code>Vue</code>实例被创建时，它将<code>data</code>对象中的所有的<code>property</code>加入到<code>Vue</code>的响应式系统中。当这些<code>property</code>的值发生改变时，视图将会产生“响应”，即匹配更新为新的值。</p><p>只有当实例被创建时就已经存在于<code>data</code>中的<code>property</code>才是响应式的。</p><p>使用<code>Object.freeze(property)</code>阻止修改现有的<code>property</code>的“响应”</p><h4 id="vue3-基于es6的proxy-代理-实现响应式的。" tabindex="-1"><span style="color:red;">*</span>Vue3:基于<code>ES6的Proxy</code>,代理，实现响应式的。 <a class="header-anchor" href="#vue3-基于es6的proxy-代理-实现响应式的。" aria-label="Permalink to &quot;&lt;span style=&quot;color: red&quot;&gt;*&lt;/span&gt;Vue3:基于\`ES6的Proxy\`,代理，实现响应式的。&quot;">​</a></h4><div class="tip custom-block"><p class="custom-block-title">使用过Vue2的用户可能需要注意下面这样的边界情况：</p><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">export</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> default</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  data</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">() {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      someObject: {}</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  },</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  mounted</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">() {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> newObject</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {}</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    this</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.someObject </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> newObject</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(newObject </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">===</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> this</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.someObject) </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// false</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><p>当你在赋值后再访问<code>this.someObject</code>，此值已经是原来的<code>newObject</code>的一个响应式代理。这与Vue2中原始的<code>newObject</code>不会变为响应式完全不同：请确保始终通过<code>this</code>来访问响应式状态。</p></div><p><code>Object.defineProperty</code>与<code>Proxy</code>详见：<a href="/frontend/javascript/ECMAScript.html#_3-16-11-proxy">6.1.6</a></p><h3 id="dom的更新时机" tabindex="-1">DOM的更新时机 <a class="header-anchor" href="#dom的更新时机" aria-label="Permalink to &quot;DOM的更新时机&quot;">​</a></h3><p>DOM的更新并不是同步的。<code>Vue</code>将缓存它们直到更新周期的 “下个时机”（异步dom更新队列） 以确保无论你进行了多少次声明更改，每个组件都只需要更新一次。 若要等待一个状态改变后的DOM更新完成，你可以使用<code>nextTick()</code></p>`,32),d=[k];function r(E,o,c,g,y,u){return a(),i("div",null,d)}const v=s(h,[["render",r]]);export{F as __pageData,v as default};
