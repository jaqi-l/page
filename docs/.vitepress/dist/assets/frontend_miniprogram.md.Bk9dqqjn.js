import{_ as i,c as s,o as a,aR as l,b7 as t}from"./chunks/framework.BwSdcL0X.js";const y=JSON.parse('{"title":"","description":"","frontmatter":{},"headers":[],"relativePath":"frontend/miniprogram.md","filePath":"frontend/miniprogram.md","lastUpdated":1715234692000}'),e={name:"frontend/miniprogram.md"},n=l(`<h2 id="_8-1-概览" tabindex="-1">8.1 概览 <a class="header-anchor" href="#_8-1-概览" aria-label="Permalink to &quot;8.1 概览&quot;">​</a></h2><p><a href="https://developers.weixin.qq.com/miniprogram/dev/framework/" target="_blank" rel="noreferrer">微信开放文档</a></p><ul><li>小程序代码构成</li></ul><blockquote><p><code>.json</code>后缀的JSON配置文件</p><blockquote><p><code>app.json</code>小程序的全局配置文件<br><code>project.config.json</code>工具配置文件<br><code>page.json</code>页面配置文件<br><code>.wxml</code>后缀的WXML模板文件<br> 标签必须闭合、大小写敏感<br><code>.wxss</code>后缀的WXSS样式文件<br><code>app.wxss</code>公共样式配置文件<br><code>.js</code>后缀的JS脚本逻辑文件<br><code>app.js</code>入口逻辑文件<br><code>.wxs</code>后缀的WeiXinScript脚本逻辑文件</p></blockquote></blockquote><ul><li>小程序版本发布流程 预览版→开发版→体验版→审核版→正式版</li></ul><h2 id="_8-2-wxml特性" tabindex="-1">8.2 wxml特性 <a class="header-anchor" href="#_8-2-wxml特性" aria-label="Permalink to &quot;8.2 wxml特性&quot;">​</a></h2><ul><li>支持的标签、组件：详见<a href="https://developers.weixin.qq.com/miniprogram/dev/component/" target="_blank" rel="noreferrer">视图容器|微信开放文档</a></li><li>支持的属性：id、class、style、hidden、data-<em>、bind</em>/catch*</li><li>数据绑定：详见<a href="https://developers.weixin.qq.com/miniprogram/dev/reference/wxml/data.html" target="_blank" rel="noreferrer">数据绑定|微信开放文档</a></li></ul><div class="language-html vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">html</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    &lt;</span><span style="--shiki-light:#B31D28;--shiki-dark:#FDAEB7;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;">view</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> hidden</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;{{flag ? true : false}}&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt; {{&quot;hello&quot; + message}} &lt;/</span><span style="--shiki-light:#B31D28;--shiki-dark:#FDAEB7;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;">view</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span></code></pre></div><ul><li>列表渲染：详见<a href="https://developers.weixin.qq.com/miniprogram/dev/reference/wxml/list.html" target="_blank" rel="noreferrer">列表渲染|微信开放文档</a></li></ul><div class="language-html vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">html</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    &lt;</span><span style="--shiki-light:#B31D28;--shiki-dark:#FDAEB7;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;">block</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> wx:for</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;{{item}}&quot;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> wx:for-item</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;item&quot;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> wx:key</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;index&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        &lt;</span><span style="--shiki-light:#B31D28;--shiki-dark:#FDAEB7;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;">view</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;{{index}}:{{item.name}}&lt;/</span><span style="--shiki-light:#B31D28;--shiki-dark:#FDAEB7;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;">view</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    &lt;/</span><span style="--shiki-light:#B31D28;--shiki-dark:#FDAEB7;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;">block</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span></code></pre></div><p>*条件渲染：详见<a href="https://developers.weixin.qq.com/miniprogram/dev/reference/wxml/conditional.html" target="_blank" rel="noreferrer">条件渲染|微信开放文档</a></p><div class="language-html vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">html</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#B31D28;--shiki-dark:#FDAEB7;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;">view</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> wx:if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;{{length &gt; 5}}&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;大于五&lt;/</span><span style="--shiki-light:#B31D28;--shiki-dark:#FDAEB7;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;">view</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#B31D28;--shiki-dark:#FDAEB7;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;">view</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> wx:elif</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;{{length &gt; 2}}&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;大于二小于五&lt;/</span><span style="--shiki-light:#B31D28;--shiki-dark:#FDAEB7;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;">view</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#B31D28;--shiki-dark:#FDAEB7;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;">view</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> wx:else</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;其他 &lt;/</span><span style="--shiki-light:#B31D28;--shiki-dark:#FDAEB7;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;">view</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span></code></pre></div><ul><li>模板：详见<a href="https://developers.weixin.qq.com/miniprogram/dev/reference/wxml/conditional.html" target="_blank" rel="noreferrer">模板|微信开放文档</a></li></ul><div class="language-html vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">html</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">&lt;!-- 定义： --&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">template</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> name</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;msgItem&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  &lt;</span><span style="--shiki-light:#B31D28;--shiki-dark:#FDAEB7;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;">view</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    &lt;</span><span style="--shiki-light:#B31D28;--shiki-dark:#FDAEB7;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;">text</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt; {{index}}: {{msg}} &lt;/</span><span style="--shiki-light:#B31D28;--shiki-dark:#FDAEB7;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;">text</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    &lt;</span><span style="--shiki-light:#B31D28;--shiki-dark:#FDAEB7;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;">text</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt; Time: {{time}} &lt;/</span><span style="--shiki-light:#B31D28;--shiki-dark:#FDAEB7;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;">text</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  &lt;/</span><span style="--shiki-light:#B31D28;--shiki-dark:#FDAEB7;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;">view</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">template</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">&lt;!-- 使用： --&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">template</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> is</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;msgItem&quot;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> data</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;{{...item}}&quot;</span><span style="--shiki-light:#B31D28;--shiki-dark:#FDAEB7;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;">/</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt; </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">&lt;!-- 只能通过data传参数 --&gt;</span></span></code></pre></div><p>引用：详见<a href="https://developers.weixin.qq.com/miniprogram/dev/reference/wxml/import.html" target="_blank" rel="noreferrer">引用|微信开放文档</a><code>import</code>：只能引入根节点的template <code>include</code>：可以引入template内的全部template</p><div class="language-html vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">html</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">&lt;!-- 定义item.wxml --&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">template</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> name</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;item&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  &lt;</span><span style="--shiki-light:#B31D28;--shiki-dark:#FDAEB7;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;">text</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;{{text}}&lt;/</span><span style="--shiki-light:#B31D28;--shiki-dark:#FDAEB7;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;">text</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">template</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">&lt;!-- 引用 --&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#B31D28;--shiki-dark:#FDAEB7;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;">import</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> src</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;item.wxml&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">/&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">template</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> is</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;item&quot;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> data</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;{{text: &#39;forbar&#39;}}&quot;</span><span style="--shiki-light:#B31D28;--shiki-dark:#FDAEB7;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;">/</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span></code></pre></div><h2 id="_8-3-wxss特性" tabindex="-1">8.3 wxss特性 <a class="header-anchor" href="#_8-3-wxss特性" aria-label="Permalink to &quot;8.3 wxss特性&quot;">​</a></h2><ul><li>rpx单位：设备像素（dp设备的物理像素）、CSS像素、PPI/DPI（每英寸像素数）、DPR（设备像素与CSS像素的比）、rpx（规定屏幕宽度750px，根据DPR进行计算自动适配）</li><li>外链样式导入：</li></ul><div class="language-css vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">css</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">@import</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;./assets.wxss&#39;</span></span></code></pre></div><ul><li>选择器：id选择器、类选择器、标签选择器、after/before伪类</li><li>选择器优先级：important最高、行内1000、id选择器100、类选择器10、标签选择器</li></ul><h2 id="_8-4-wxs特性" tabindex="-1">8.4 wxs特性 <a class="header-anchor" href="#_8-4-wxs特性" aria-label="Permalink to &quot;8.4 wxs特性&quot;">​</a></h2><p>JS运行环境：ios→JavaScriptCore、android→X5内核、IED→nwjs WXS：运行环境不依赖于运行时的基础库版本，可以在所有版本的小程序中运行</p><div class="language-html vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">html</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">&lt;!-- 定义 --&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#B31D28;--shiki-dark:#FDAEB7;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;">wxs</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> module</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;m1&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">var msg = &quot;hello world&quot;;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">module.exports.message = msg;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;/</span><span style="--shiki-light:#B31D28;--shiki-dark:#FDAEB7;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;">wxs</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">&lt;!-- 使用 --&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#B31D28;--shiki-dark:#FDAEB7;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;">view</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt; {{m1.message}} &lt;/</span><span style="--shiki-light:#B31D28;--shiki-dark:#FDAEB7;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;">view</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span></code></pre></div><p>WXS数据类型：number、string、boolean、object、arrary、function、date、regexp</p><div class="tip custom-block"><p class="custom-block-title">TIP</p><pre><code>wxs不支持try/catch
</code></pre></div><h2 id="_8-5-运行机制" tabindex="-1">8.5 运行机制 <a class="header-anchor" href="#_8-5-运行机制" aria-label="Permalink to &quot;8.5 运行机制&quot;">​</a></h2><ul><li>运行机制：视图层→逻辑层→CDM（查看是否有更新）→网络请求</li><li>生命周期</li></ul><h5 id="应用生命周期" tabindex="-1">应用生命周期： <a class="header-anchor" href="#应用生命周期" aria-label="Permalink to &quot;应用生命周期：&quot;">​</a></h5><p>onLaunch<br> onShow<br> onHide<br> onError</p><h5 id="页面生命周期" tabindex="-1">页面生命周期： <a class="header-anchor" href="#页面生命周期" aria-label="Permalink to &quot;页面生命周期：&quot;">​</a></h5><p>onLoad<br> onShow<br> onReady<br> onHide<br> onUnload</p><div class="tip custom-block"><p class="custom-block-title">TIP</p><ol><li><p><code>5s</code>后挂起,<code>30min</code>后自动删除进程。</p></li><li><p><a href="https://blog.csdn.net/ljq547152849/article/details/130881632?spm=1001.2014.3001.5502" target="_blank" rel="noreferrer">原生与uni-app小程序应用、页面与组件的完整生命周期</a></p></li></ol></div><h2 id="_8-6-路由" tabindex="-1">8.6 路由 <a class="header-anchor" href="#_8-6-路由" aria-label="Permalink to &quot;8.6 路由&quot;">​</a></h2><p><img src="`+t+`" alt="router"></p><h2 id="_8-7-事件" tabindex="-1">8.7 事件 <a class="header-anchor" href="#_8-7-事件" aria-label="Permalink to &quot;8.7 事件&quot;">​</a></h2><ul><li>touchstart、</li><li>touchmove、</li><li>touchcancel（被打断）、</li><li>touchend、</li><li>tap、</li><li>logpress、</li><li>longtap、</li></ul><h2 id="_8-8-组件" tabindex="-1">8.8 组件 <a class="header-anchor" href="#_8-8-组件" aria-label="Permalink to &quot;8.8 组件&quot;">​</a></h2><h3 id="_8-8-1-视图" tabindex="-1">8.8.1 视图 <a class="header-anchor" href="#_8-8-1-视图" aria-label="Permalink to &quot;8.8.1 视图&quot;">​</a></h3><ul><li>\`view（相当于DIV）</li><li><code>cover-view</code>（用于覆盖原生组件）</li><li><code>cover-image</code>（用于覆盖原生组件的图片组件、可以嵌套<code>cover-view</code>里面）</li><li><code>scroll-view</code>（滚动组件）</li><li><code>grid-view</code>(Skyline网格布局容器)</li><li><code>list-view</code>(Skyline网格布局容器)</li><li><code>match-media</code>(匹配检测组件)</li></ul><div class="language-html vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">html</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">match-media</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> min-width</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;300&quot;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> max-width</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;600&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  &lt;</span><span style="--shiki-light:#B31D28;--shiki-dark:#FDAEB7;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;">view</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;当页面宽度在 300 ~ 500 px 之间时展示这里&lt;/</span><span style="--shiki-light:#B31D28;--shiki-dark:#FDAEB7;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;">view</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">match-media</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span></code></pre></div><ul><li><code>movable-area</code>、<code>movable-view</code>(可移动区域、可移动的元素)</li><li><code>page-container</code>（页面容器：当用户进行返回操作，关闭该容器不关闭页面）</li><li><code>root-portal</code>（用于将组件从页面脱离出来，类似于Vue3的<code>Teleport</code>方法）</li><li><code>share-element</code>(共享元素需要在<code>page-container</code>组件内使用:用于页面直接的动画)</li><li><code>sticky-header</code>(吸顶布局容器)</li><li><code>sticky-section</code>(吸顶布局容器)</li><li><code>swiper</code>、<code>swiper-item</code>（轮播）</li></ul><h3 id="_8-8-2-基础内容" tabindex="-1">8.8.2 基础内容 <a class="header-anchor" href="#_8-8-2-基础内容" aria-label="Permalink to &quot;8.8.2 基础内容&quot;">​</a></h3><ul><li>icon（图标）</li><li>text（文本）</li><li>rich-text（符文本）</li><li>percent（进度条）</li></ul><h3 id="_8-8-3-表单" tabindex="-1">8.8.3 表单 <a class="header-anchor" href="#_8-8-3-表单" aria-label="Permalink to &quot;8.8.3 表单&quot;">​</a></h3><ul><li>button</li><li>checkbox</li><li>form</li><li>input</li><li>label</li><li>picker</li><li>picker-view</li><li>radio</li><li>slider</li><li>switch</li><li>textarea</li></ul><h3 id="_8-8-4-导航" tabindex="-1">8.8.4 导航 <a class="header-anchor" href="#_8-8-4-导航" aria-label="Permalink to &quot;8.8.4 导航&quot;">​</a></h3><ul><li>navigator</li></ul><h3 id="_8-8-5-媒体组件" tabindex="-1">8.8.5 媒体组件 <a class="header-anchor" href="#_8-8-5-媒体组件" aria-label="Permalink to &quot;8.8.5 媒体组件&quot;">​</a></h3><ul><li>audio（音频）</li><li>video（视频）</li><li>camera（相机）</li><li>image（图片 ）</li><li>live-player（实时播放）</li><li>live-pusher（实时录制）</li><li>voip-room（多人音视频对话）</li></ul><h3 id="_8-8-6-地图组件" tabindex="-1">8.8.6 地图组件 <a class="header-anchor" href="#_8-8-6-地图组件" aria-label="Permalink to &quot;8.8.6 地图组件&quot;">​</a></h3><ul><li>map</li></ul><h3 id="_8-8-7-canvas" tabindex="-1">8.8.7 Canvas <a class="header-anchor" href="#_8-8-7-canvas" aria-label="Permalink to &quot;8.8.7 Canvas&quot;">​</a></h3><h3 id="_8-8-8-开发能力" tabindex="-1">8.8.8 开发能力 <a class="header-anchor" href="#_8-8-8-开发能力" aria-label="Permalink to &quot;8.8.8 开发能力&quot;">​</a></h3><ul><li>open-data</li><li>web-view 需要配置业务域名，必须是HTTPS协议。</li></ul><h2 id="_8-9-api" tabindex="-1">8.9 API <a class="header-anchor" href="#_8-9-api" aria-label="Permalink to &quot;8.9 API&quot;">​</a></h2><p>前缀：<code>wx.</code><br> 方法：wx.get（获取）、wx.set（写入）<br> 回调函数：success（成功）、fail（失败）、complete（完成）<br> 回调函数类型：直调函数（程序运行时立即执行被调函数）、回调函数（程序运行之后执行被调函数。包括登记回调函数和执行回调函数）</p><h3 id="_8-9-1-网络" tabindex="-1">8.9.1 网络 <a class="header-anchor" href="#_8-9-1-网络" aria-label="Permalink to &quot;8.9.1 网络&quot;">​</a></h3><ul><li>发起请求：</li></ul><blockquote><p>wx.request（发起请求）：需要配置request白名单，必须的HTTPS协议，且通过ICP备案。</p></blockquote><ul><li>上传、下载类：</li></ul><blockquote><p>wx.uploadFile（上传）：需要配置uploadFile白名单。<br> wx.downloadFile（下载）需要配置downloadFile白名单。</p></blockquote><ul><li>websocket websocket：需要配置websocket白名单。</li></ul><h3 id="_8-9-2-媒体" tabindex="-1">8.9.2 媒体 <a class="header-anchor" href="#_8-9-2-媒体" aria-label="Permalink to &quot;8.9.2 媒体&quot;">​</a></h3><h4 id="图片类" tabindex="-1">图片类： <a class="header-anchor" href="#图片类" aria-label="Permalink to &quot;图片类：&quot;">​</a></h4><ul><li>wx.chooseImage（选择图片）</li><li>wx.previewImage（预览图片）</li><li>wx.getImage（查看图片信息）</li><li>wx.saveImageToPhotosAlbum（保存图片）</li></ul><div class="tip custom-block"><p class="custom-block-title">TIP</p><ol><li>必须是本地路径，远程地址可以使用downloadFile下载到本地再保存到相册。</li></ol></div><h4 id="录音" tabindex="-1">录音： <a class="header-anchor" href="#录音" aria-label="Permalink to &quot;录音：&quot;">​</a></h4><ul><li>wx.startRecord（开始录音），不再维护，但可使用</li><li>wx.stopRecord（停止录音），不再维护，但可使用</li><li>wx.getRecorderManager（录音管理器）</li></ul><h4 id="音频" tabindex="-1">音频： <a class="header-anchor" href="#音频" aria-label="Permalink to &quot;音频：&quot;">​</a></h4><h4 id="视频" tabindex="-1">视频： <a class="header-anchor" href="#视频" aria-label="Permalink to &quot;视频：&quot;">​</a></h4><h3 id="_8-9-3-文件" tabindex="-1">8.9.3 文件 <a class="header-anchor" href="#_8-9-3-文件" aria-label="Permalink to &quot;8.9.3 文件&quot;">​</a></h3><ul><li>wx.savaFile</li><li>wx.getFileInfo</li><li>wx.getSavedFileList</li><li>wx.getSavedFileInfo</li><li>wx.removeSavedFile</li><li>wx.openDocument</li></ul><h3 id="_8-9-4-数据缓存" tabindex="-1">8.9.4 数据缓存 <a class="header-anchor" href="#_8-9-4-数据缓存" aria-label="Permalink to &quot;8.9.4 数据缓存&quot;">​</a></h3><ul><li>wx.setStorage</li><li>wx.setStorageSync</li><li>wx.getStorage</li><li>wx.getStorageSync</li><li>wx.getStorageInfo</li><li>wx.getStorageInfoSync</li><li>wx.removeStorage</li><li>wx.removeStorageInfoSync</li><li>wx.clearStorage</li><li>wx.clearStorageInfoSync</li></ul><h3 id="_8-9-5-位置" tabindex="-1">8.9.5 位置 <a class="header-anchor" href="#_8-9-5-位置" aria-label="Permalink to &quot;8.9.5 位置&quot;">​</a></h3><ul><li>wx.getLocation</li><li>wx.chooseLocation</li><li>wx.openLocation</li><li>wx.createMapContext</li></ul><h3 id="_8-9-6-设备" tabindex="-1">8.9.6 设备 <a class="header-anchor" href="#_8-9-6-设备" aria-label="Permalink to &quot;8.9.6 设备&quot;">​</a></h3><ul><li>wx.canIUse<br> 判断小程序的API，回调，参数，组件等是否在当前版本可用。<br><code>\${API}.\${method}.\${param}.\${option}</code>或<code>\${component}.\${attribute}.\${option}</code><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">wx.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">canIUse</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;console.log&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">wx.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">canIUse</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;getSystemInfo.success.screenWidth&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span></code></pre></div></li></ul><h4 id="设备信息" tabindex="-1">设备信息： <a class="header-anchor" href="#设备信息" aria-label="Permalink to &quot;设备信息：&quot;">​</a></h4><ul><li>wx.getSystemInfoSync(同步获取设备信息)</li><li>wx.getSystemInfoAsync(异步获取设备信息)</li></ul><h4 id="网络状态" tabindex="-1">网络状态： <a class="header-anchor" href="#网络状态" aria-label="Permalink to &quot;网络状态：&quot;">​</a></h4><ul><li>wx.getNetworkType(获取网络类型)</li><li>wx.onNetworkStatusChange(监听网络状态变化事件)</li></ul><h4 id="网络状态-1" tabindex="-1">网络状态： <a class="header-anchor" href="#网络状态-1" aria-label="Permalink to &quot;网络状态：&quot;">​</a></h4><h3 id="_8-9-7-界面" tabindex="-1">8.9.7 界面 <a class="header-anchor" href="#_8-9-7-界面" aria-label="Permalink to &quot;8.9.7 界面&quot;">​</a></h3><h4 id="交互" tabindex="-1">交互： <a class="header-anchor" href="#交互" aria-label="Permalink to &quot;交互：&quot;">​</a></h4><ul><li>wx.showToast(提示框)、wx.hideToast(隐藏示框)</li><li>wx.showModal(模态框</li><li>wx.showLoading(加载动画)、wx.hideLoading(隐藏加载动画)</li><li>wx.showActionSheet(显示操作菜单)</li><li>wx.enableAlertBeforeUnload(开启小程序页面返回询问对话框)、wx.disableAlertBeforeUnload(关闭小程序页面返回询问对话框)</li></ul><div class="warning custom-block"><p class="custom-block-title">WARNING</p><p><code>wx.showLoading</code>和<code>wx.showToast</code>同时只能显示一个。</p></div><h4 id="导航栏" tabindex="-1">导航栏： <a class="header-anchor" href="#导航栏" aria-label="Permalink to &quot;导航栏：&quot;">​</a></h4><ul><li>wx.showNavigationBarLoading(导航条加载动画)、wx.hideNavigationBarLoading(隐藏导航条加载动画)</li><li>wx.setNavigationBarTitle(导航条标题)</li><li>wx.setNavigationBarColor(导航条颜色)</li><li>wx.hideHomeButton(隐藏返回首页按钮)</li></ul><h4 id="背景" tabindex="-1">背景： <a class="header-anchor" href="#背景" aria-label="Permalink to &quot;背景：&quot;">​</a></h4><ul><li>wx.setBackgroundTextStyle(下拉背景字体、loading 图的样式)</li><li>wx.setBackgroundColor(背景色)</li></ul><h4 id="tab-bar" tabindex="-1">Tab Bar： <a class="header-anchor" href="#tab-bar" aria-label="Permalink to &quot;Tab Bar：&quot;">​</a></h4><ul><li>wx.showTabBar(显示tabBar)、wx.hideTabBar(隐藏tabBar)</li><li>wx.setTabBarStyle(设置tabBar的整体样式)</li><li>wx.setTabBarItem(设置tabBar某一项的内容)</li><li>wx.setTabBarBadge(为tabBar某一项的右上角添加文本)、wx.removeTabBarBadge(移除tabBar某一项右上角的文本)</li><li>wx.showTabBarRedDot(显示tabBar某一项的右上角的红点)、wx.hideTabBarRedDot(隐藏tabBar某一项的右上角的红点)</li></ul><h4 id="置顶栏" tabindex="-1">置顶栏 <a class="header-anchor" href="#置顶栏" aria-label="Permalink to &quot;置顶栏&quot;">​</a></h4><ul><li>wx.setTopBarText(动态设置置顶栏文字内容)<br> 只有小程序被置顶时生效</li></ul><h3 id="_8-9-8-路由" tabindex="-1">8.9.8 路由 <a class="header-anchor" href="#_8-9-8-路由" aria-label="Permalink to &quot;8.9.8 路由&quot;">​</a></h3><ul><li>wx.reLaunch(关闭所有页面，打开到应用内的某个页面)</li><li>wx.redirectTo(关闭当前页面，跳转到应用内的某个页面。不能跳tabbar 页面)</li><li>wx.navigateTo(保留当前页面，跳转到应用内的某个页面。不能跳tabbar页面)</li><li>wx.navigateBack(关闭当前页面，返回到原页面)<br> 可通过 getCurrentPages 获取当前的页面栈，决定需要返回几层</li><li>wx.switchTab(跳转到tabBar页面，并关闭其他所有非tabBar页面,不能传参)</li></ul><h3 id="_8-9-9-动画" tabindex="-1">8.9.9 动画 <a class="header-anchor" href="#_8-9-9-动画" aria-label="Permalink to &quot;8.9.9 动画&quot;">​</a></h3><ul><li>wx.createAnimation(创建一个动画实例)</li></ul><h3 id="_8-9-10-绘图" tabindex="-1">8.9.10 绘图 <a class="header-anchor" href="#_8-9-10-绘图" aria-label="Permalink to &quot;8.9.10 绘图&quot;">​</a></h3><ul><li>wx.createCanvasContext(创建canvas对象)</li></ul><h3 id="_8-9-11-开放接口" tabindex="-1">8.9.11 开放接口 <a class="header-anchor" href="#_8-9-11-开放接口" aria-label="Permalink to &quot;8.9.11 开放接口&quot;">​</a></h3><h4 id="登录" tabindex="-1">登录 <a class="header-anchor" href="#登录" aria-label="Permalink to &quot;登录&quot;">​</a></h4><ul><li>wx.login(接口获取登录凭证code)<br> 发送<code>code</code>给后端服务器，获取<code>session_key</code>(有时效性)。</li></ul><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">wx.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">login</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  success</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">res</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (res.code) {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">      //发起网络请求</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      wx.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">request</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        url: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;https://example.com/onLogin&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        data: {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">          code: res.code</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      })</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">else</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;登录失败！&#39;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> +</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> res.errMsg)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">})</span></span></code></pre></div><ul><li>wx.checkSession(检查<code>session_key</code>是否过期)</li></ul><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">wx.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">checkSession</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  success</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> () {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    //session_key 未过期，并且在本生命周期一直有效</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  },</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  fail</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> () {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // session_key 已经失效，需要重新执行登录流程</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    wx.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">login</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">() </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//重新登录</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">})</span></span></code></pre></div><h4 id="账号信息" tabindex="-1">账号信息 <a class="header-anchor" href="#账号信息" aria-label="Permalink to &quot;账号信息&quot;">​</a></h4><ul><li>wx.getAccountInfoSync(获取当前账号信息，只能在正式版中获取)</li></ul><h4 id="用户信息" tabindex="-1">用户信息 <a class="header-anchor" href="#用户信息" aria-label="Permalink to &quot;用户信息&quot;">​</a></h4><ul><li>wx.getUserProfile(获取授权、和当前用户信息)</li><li>wx.getUserInfo(已授权的情况下，获取用户信息)</li></ul><h4 id="授权" tabindex="-1">授权 <a class="header-anchor" href="#授权" aria-label="Permalink to &quot;授权&quot;">​</a></h4><ul><li>wx.authorize(提前向用户发起授权请求)</li></ul><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">uni.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">authorize</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  scope: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;scope.writePhotosAlbum&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 要获取的权限名</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  success</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">() {},</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  fail</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">error</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {},</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">})</span></span></code></pre></div><h4 id="设置" tabindex="-1">设置 <a class="header-anchor" href="#设置" aria-label="Permalink to &quot;设置&quot;">​</a></h4><ul><li>wx.getSetting(获取用户的当前设置)</li></ul><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">wx.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">getSetting</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  success</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">res</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {},</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  fail</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">error</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {},</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">})</span></span></code></pre></div><ul><li>wx.openSetting(查看设置界面)</li></ul><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">wx.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">openSetting</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  success</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">res</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {},</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  fail</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">error</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {},</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">})</span></span></code></pre></div><h4 id="微信支付" tabindex="-1">微信支付 <a class="header-anchor" href="#微信支付" aria-label="Permalink to &quot;微信支付&quot;">​</a></h4><p>小程序账号必须是商户账号</p><h3 id="_8-9-12-wxml" tabindex="-1">8.9.12 WXML <a class="header-anchor" href="#_8-9-12-wxml" aria-label="Permalink to &quot;8.9.12 WXML&quot;">​</a></h3><ul><li>wx.createSelectorQuery(创建获取DOM节点信息对象) 查看DOM信息</li></ul><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> query</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> wx.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">createSelectorQuery</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">query.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">select</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;#the-id&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">).</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">boundingClientRect</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">query.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">selectViewport</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">().</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">scrollOffset</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">query.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">exec</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">function</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">res</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">){</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  res[</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">].top       </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// #the-id节点的上边界坐标</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  res[</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">].scrollTop </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 显示区域的竖直滚动位置</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">})</span></span></code></pre></div>`,124),h=[n];function k(p,r,o,d,E,c){return a(),s("div",null,h)}const u=i(e,[["render",k]]);export{y as __pageData,u as default};
